<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Страница формирования заявки</title>
    <link rel="stylesheet" href="RequestFormationPage.css">
</head>
<body>
       <!-- Чердак -->
    <div class="header-box">
        <div class="header-container">
            <a class="logo-container" href="Main.html" style="text-decoration: none; color: inherit;">
                <img src="media/logo.png" class="logo">
                <h1 class="title">Корочки.есть</h1>
                <h3 class="undertitle">Только "Не" качественное государственное оброзование.</h3>
            </a>
            <div class="buttons">
                <a href="ApplicationReviewPage.html" class="btn1">Ваши заявки</a>
                <a href="RequestFormationPage.html" class="btn2">Подать заявку</a>
            </div>
        </div>
    </div>

<!-- Основной контент -->
    <div class="main-container">
    <div class="somthing-container">
        <h2 class="t1">Ваша заявка:</h2>
    </div>
    <div class="specialty-row">
        <p>
            <strong>Специальность:</strong> 
        </p>
        <div class="container">
    <div class="custom-select">
        <input type="text" id="searchInput" placeholder="Начните вводить..." class="list select-input">
        <div class="custom-options" id="customOptions">
            <div class="option" data-value="Маркетолог">Маркетолог</div>
            <div class="option" data-value="Графический дизайнер">Графический дизайнер</div>
            <div class="option" data-value="Системный администратор">Системный администратор</div>
            <div class="option" data-value="Веб-разработчик">Веб-разработчик</div>
        </div>
    </div>
    <!-- Скрытый datalist для совместимости -->
    <datalist id="searchOptions">
        <option value="Маркетолог">
        <option value="Графический дизайнер">
        <option value="Системный администратор">
        <option value="Веб-разработчик">
    </datalist>
</div>
    </div>
    <div class="specialty-row">
        <p>
            <strong>Начать обучение:</strong> 
        </p>
    <div class="date-picker">
<select id="daySelect" class="list">
                <option value="" >День</option>
            </select>
            
            <select id="monthSelect" class="list">
                <option value="">Месяц</option>
                <option value="1">Январь</option>
                <option value="2">Февраль</option>
                <option value="3">Март</option>
                <option value="4">Апрель</option>
                <option value="5">Май</option>
                <option value="6">Июнь</option>
                <option value="7">Июль</option>
                <option value="8">Август</option>
                <option value="9">Сентябрь</option>
                <option value="10">Октябрь</option>
                <option value="11">Ноябрь</option>
                <option value="12">Декабрь</option>
            </select>
            
            <select id="yearSelect" class="list">
                <option value="">Год</option>
            </select>
        </div>
        
        <div id="selectedDate" class="result"></div>
    </div>
    <div class="specialty-row">
        <p>
            <strong>Способ оплаты:</strong> 
        </p>
        <div class="payment-container">
            <div class="payment-option">
                <input type="radio" id="cash" name="payment" value="cash" class="payment-radio">
                <label for="cash" class="payment-label">
                    <span class="radio-custom"></span>
                    Наличными при получении
                </label>
            </div>
            <div class="payment-option">
                <input type="radio" id="phone" name="payment" value="phone" class="payment-radio">
                <label for="phone" class="payment-label">
                    <span class="radio-custom"></span>
                    Перевод по номеру телефона
                </label>
            </div>
        </div>
</div>
<button class="btn3">Отправить</button>
</div>

<!-- Подвал -->
    <div class="footer-box">
        <div class="footer-container">
            <a class="logo-container" href="Main.html" style="text-decoration: none; color: inherit;">
                <img src="media/logo.png" class="logo">
                <h1 class="title">Корочки.есть</h1>
                <h3 class="undertitle">Только "Не" качественное государственное оброзование.</h3>
            </a>
            <div class="footer-columns">
                <div class="footer-column">
                    <li>Страницы</li>
                    <ul>
                        <li><a href="Main.html" style="text-decoration: none; color: inherit;">Главная</a></li>
                        <li><a href="ApplicationReviewPage.html" style="text-decoration: none; color: inherit;">Страница просмотра заявок</a></li>
                        <li><a href="RequestFormationPage.html" style="text-decoration: none; color: inherit;">Страница формирования заявки</a></li>
                        <li><a href="AdminPanel.html" style="text-decoration: none; color: inherit;">Админ-панель</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <li>Документация</li>
                    <ul>
                        <li><a href="#" style="text-decoration: none; color: inherit;">Условия пользователя</a></li>
                        <li><a href="#" style="text-decoration: none; color: inherit;">Условия использования</a></li>
                        <li><a href="#" style="text-decoration: none; color: inherit;">Политика куки</a></li>
                        <li><a href="#" style="text-decoration: none; color: inherit;">Политика конфиденциальности</a></li>
                        <li><a href="#" style="text-decoration: none; color: inherit;">О нас</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<script>
        const daySelect = document.getElementById('daySelect');
        const monthSelect = document.getElementById('monthSelect');
        const yearSelect = document.getElementById('yearSelect');
        const yearError = document.getElementById('yearError');
        const dateError = document.getElementById('dateError');
        const selectedDateDiv = document.getElementById('selectedDate');

        // Текущая дата для сравнения
        const currentDate = new Date();
        const currentYear = currentDate.getFullYear();
        const currentMonth = currentDate.getMonth() + 1; // Месяцы с 1 до 12
        const currentDay = currentDate.getDate();

        // Заполнение годов (только текущий и будущие)
        function initializeYears() {
            yearSelect.innerHTML = '<option value="">Год</option>';
            
            // Текущий год + следующие 10 лет
            for (let year = currentYear; year <= currentYear + 10; year++) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearSelect.appendChild(option);
            }
        }

        // Заполнение дней
        function initializeDays() {
            daySelect.innerHTML = '<option value="">День</option>';
            for (let day = 1; day <= 31; day++) {
                const option = document.createElement('option');
                option.value = day;
                option.textContent = day < 10 ? '0' + day : day;
                daySelect.appendChild(option);
            }
        }

        // Валидация выбранной даты
        function validateSelectedDate() {
            const selectedYear = parseInt(yearSelect.value);
            const selectedMonth = parseInt(monthSelect.value);
            const selectedDay = parseInt(daySelect.value);

            // Сбрасываем ошибки
            yearError.style.display = 'none';
            dateError.style.display = 'none';

            // Проверка года
            if (selectedYear && selectedYear < currentYear) {
                yearError.style.display = 'block';
                yearError.textContent = 'Нельзя выбрать прошедший год';
                return false;
            }

            // Проверка полной даты
            if (selectedYear && selectedMonth && selectedDay) {
                const selectedDate = new Date(selectedYear, selectedMonth - 1, selectedDay);
                
                if (selectedDate < currentDate) {
                    dateError.style.display = 'block';
                    dateError.textContent = 'Нельзя выбрать прошедшую дату';
                    return false;
                }
            }

            return true;
        }

        // Обновление доступных дней при изменении месяца/года
        function updateDays() {
            const month = parseInt(monthSelect.value);
            const year = parseInt(yearSelect.value);
            
            if (!month || !year) return;
            
            // Определяем количество дней в месяце
            const daysInMonth = new Date(year, month, 0).getDate();
            const selectedDay = parseInt(daySelect.value);
            
            // Обновляем список дней
            daySelect.innerHTML = '<option value="">День</option>';
            for (let day = 1; day <= daysInMonth; day++) {
                const option = document.createElement('option');
                option.value = day;
                option.textContent = day < 10 ? '0' + day : day;
                
                // Автоматически выбираем день, если он был выбран ранее и все еще валиден
                if (day === selectedDay && day <= daysInMonth) {
                    option.selected = true;
                }
                
                daySelect.appendChild(option);
            }
        }

        // Отображение выбранной даты
        function displaySelectedDate() {
            if (!validateSelectedDate()) {
                selectedDateDiv.innerHTML = '';
                return;
            }

            const day = daySelect.value;
            const month = monthSelect.value;
            const year = yearSelect.value;
            
            if (day && month && year) {
                const months = [
                    '', 'Января', 'Февраля', 'Марта', 'Апреля', 'Мая', 'Июня',
                    'Июля', 'Августа', 'Сентября', 'Октября', 'Ноября', 'Декабря'
                ];
                
                selectedDateDiv.innerHTML = `
                    <strong>Выбранная дата:</strong> ${day} ${months[month]} ${year} года<br>
                    <strong>Формат ISO:</strong> ${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}
                `;
            }
        }

        // Инициализация
        initializeYears();
        initializeDays();

        // Обработчики событий
        yearSelect.addEventListener('change', function() {
            validateSelectedDate();
            updateDays();
            displaySelectedDate();
        });

        monthSelect.addEventListener('change', function() {
            updateDays();
            displaySelectedDate();
        });

        daySelect.addEventListener('change', displaySelectedDate);
        // Кастомный выпадающий список
const customSelect = document.querySelector('.custom-select');
const selectInput = document.querySelector('.select-input');
const customOptions = document.querySelectorAll('.option');

selectInput.addEventListener('focus', function() {
    customSelect.classList.add('active');
});

selectInput.addEventListener('blur', function() {
    setTimeout(() => customSelect.classList.remove('active'), 200);
});

selectInput.addEventListener('input', function() {
    const filter = this.value.toLowerCase();
    customOptions.forEach(option => {
        const text = option.textContent.toLowerCase();
        option.style.display = text.includes(filter) ? 'block' : 'none';
    });
});

customOptions.forEach(option => {
    option.addEventListener('mousedown', function(e) {
        e.preventDefault();
        selectInput.value = this.getAttribute('data-value');
        customSelect.classList.remove('active');
    });
});

// Закрытие при клике вне элемента
document.addEventListener('click', function(e) {
    if (!customSelect.contains(e.target)) {
        customSelect.classList.remove('active');
    }
});
    </script>